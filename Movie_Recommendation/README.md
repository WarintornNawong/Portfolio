# Movie Recommendation
### Introduction
According to a McKinsey report, 35% of Amazon.com's revenue is generated by its recommendation engine and 80% of Netflix viewer activity is driven by personalised recommendations. These figure encourage me to develop a recommendation engine in my favourite areas like a movie to build a tools to provide new watcher to give a similar movie based on thier content such as genres, director, actor etc. and provide similarity patterns, reviews and feedbacks between ex-user who likely to favour the identical movie.

### DATASET
- The Kaggle Datasource of 5000 TMDB Movie Data in [link](https://github.com/WarintornNawong/Portfolio/blob/main/Movie_Recommendation/Movie%20Recommendation.ipynb)
- The Movie Dataset Review in [link](https://www.kaggle.com/datasets/rounakbanik/the-movies-dataset)

### Key Findings

This step is to extract the data from list-form dataframe for content-based recommendation into four individual attribute in the following detail,

- **Lead** : The three main cast who plays the role of the protagonist or leading role of a film.
- **Director** : The person who has a *key role* in choosing the cast members, production design and all the creative aspects of filmmaking.
- **Genres** : The Stylistic or thematic category for motion pictures based on similarities either in the narrative elements, aesthetic approach, or the emotional response to the film such as Action,Adventure,Fantasy,Science,Fiction etc.
- **Keyword** : a word or a sort of phrase that can be associated with plot of films.

## 

### Which director has produced in the most movies ? and Which is the most genres of each director? 

![image](https://user-images.githubusercontent.com/104628789/170187177-01ebe607-8ebd-4ea4-9a71-7478aa66f71e.png) 


In terms of number of movie perspective, Steven Spielberg ranked the top for the most producing filme director with 27 films such as **Jurassic Park**, **Indiana Jones** etc. and Woody Allen ranked second with 21 films such as **MANHATTAN**, **MIDNIGHT IN PARIS** etc. and the following director is 
Martin Scorsese who have directed the film such as **Wolf of wall street**, **The Irishman** and **Shutter Island**. 

In terms of movie genres of each director, Woody Allen has produced 18 comedy movies such as **MIDNIGHT IN PARIS**, **Majic in Moonlight** and **A Rainy Day in New York**. As Drama king, Martin scorsese ranked in thirdth highest film producing and highest drama producing director with 17 movies such as **The Departed**, **Silence** and **The Aviator**

### Which is the most used keywords in the movies and director plot ?

![image](https://user-images.githubusercontent.com/104628789/170187276-0d7a96df-132c-4eeb-92a7-f32ea464a080.png)

With the most frequent keyword, The relationship is used in the plot for up to 500 movies becuase it is intrinsically parts of human beings, our natural life, and it is recognizable for  every people in every area, religion or nationality so this relationship plot would be chosen to infiltrate in any movies especially in romantic or drama movies. The "based" word is traceable from "based on True Story", "Based on novel plot" or any reference, inspiration of any origin plot. In the following one, the film keyword is general keyword for any film plots that would be intentionally or unintentionally inserted in the plot.

In terms of most frequent keyword of any director, the most frequent keyword of movies John Glen produced for 12 movies is "Secret" because he is the director of **"James Bond Series"** which defenitely involve secret in mission or any device. Steven Spielberg also produced the 11 movies in "war theme" such as **Saving private ryan**, **Empire of the Sun** and **Lincoln (2012)** with American Civil War. In the third, Antonie Fuqua produced 11 police-related movies such as **Training day**, **The Equalizer**, and **Shooter**. 
 
## Which actor has starred in the most movies ? 

![image](https://user-images.githubusercontent.com/104628789/170187407-6b92b695-0f68-4e50-a9e0-5525e1c0702e.png)

"Robert De" or "Robert De Niro" in 78 years old was shot more than 40 movies in **"Irish Men"**, **The Intern** and **The God Father**, following by "Matt Damon" and "Bruce Willis" with 33 movies.

With higest partnership between director and actor/actress by number of movies, the result showed that Denis Dugan and Adam Sandler work together for 7 movies in **"Grown Ups"**,**"Grown Ups 2"** and **You Don't Mess with the Zohan**.

## Which is the most popular genres in the movies and the most actor's movie genres ?

![image](https://user-images.githubusercontent.com/104628789/170188088-f2f648a2-3977-4ae1-b7cf-b370a97d9c34.png)

The Drama movie is also popular with same reason as relationship becuase it is contemporary in every era.  

## Content-based Recommendation
To recommend based on the content similarity, the data would be required to convert into matrix and provide the information of the data thourgh "term frequencyâ€“inverse document frequency (tf-idf)" approach and select the cosine similarity appilication to be a score for each film aspect. I named the score as Similarity score and calculate based on the following methodology. The coefficient of each parameter was derived from fine-tuning of the results of content recommendation which I found out that *Keyword* play the major role to deliver the highest efficiency in "Movie Recommendation".

**Similarity Score** = 0.4 * keyword + 0.3 * lead + 0.2 * director + 0.1 * genres

## Collaborative-Filtering Recommendation

 This step is to premilimary search for the top three collaborative-filtering algorithm with least accuracy measured by 'RMSE' in movie rating prediction based on cross validation approach between algorithm provided in *"SURPRISE"* library in the following type:
- **Matrix Factorization approach** : Singular Value Decompition (SVD), Singular Value Decompition (SVD++) ,nmf non negative matrix factorization (NMF).
- **KNN Species** : KNNBasic, KNNWithMeans,KNNWithZScore,KNNBaseline.
- **Others** : SlopeOne, NormalPredictor, BaselineONly


![image](https://user-images.githubusercontent.com/104628789/170188578-94ac9def-bb1e-48e9-b4b0-1a96554bb478.png)

   The result showed that the top three algorithm in terms of least Root Mean Square Error (RMSE) are "SVD++,BaselineOnly, SVD". Therefore, those algorithm would be selected for fine-tuning and compare with the best parameter to finalize the best appropriate algorithm for this dataset.

### Fine-Tuning
This step is to compare between the selected algorithm for finding the best algorithm with best paramater with "GridSearchCV" and measure it within the test set. The post-fine tuning parameter is shown below, 

- **Singular Value Decomposition (SVD)** : {'n_factors': 25, 'n_epochs': 25, 'lr_all': 0.008, 'reg_all': 0.1} with RMSE 0.9181
- **Singalua value Decomposition plusplus (SVD++)** : {'n_factors': 30, 'n_epochs': 15, 'lr_all': 0.008, 'reg_all': 0.02} with RMSE 0.9129
- **Base Line Options : Alternating Least Square (ALS)** : {'bsl_options': {'method': 'als', 'n_epochs': 10, 'lr_all': 0.002, 'reg_all': 0.4}} with RMSE 0.9194

With these step, I found out that the best algorithm is "SVP++" with rmse is 0.9129 for test set. Therefore, I decided to select this algorithm for "Individual User Movie Rating Prediction".

## Hybrid Recommendation
This step is to merge between the similarity score for being a representative score for each film with and indivudual movie rating prediction which is range between 0 to 5.0 to construct the personalised score with following methodology:

**Personalised Favourite Score** = Similarity Score * prediction Rating / 2.5


## Results
### RECOMMENDATION NO.1

10 recommended movie for UserID : 5 who have previously watched "Harry Potter and the Goblet of Fire"

- Harry Potter and the Philosopher's Stone
- Harry Potter and the Half-Blood Prince
- Harry Potter and the Prisoner of Azkaban
- Harry Potter and the Chamber of Secrets
- Harry Potter and the Order of the Phoenix
- Love in the Time of Cholera
- Eragon
- Prince of Persia: The Sands of Time
- The Golden Compass
- Mona Lisa Smile

### RECOMMENDATION NO.2
5 recommended movie for UserID : 3 who have previously watched "Titanic"

- Terminator 2: Judgment Day
- Revolutionary Road
- Almost Famous
- True Lies
- Vanilla Sky
       
## Notebook
you can find the notebook [here](https://github.com/WarintornNawong/Portfolio/blob/main/Movie_Recommendation/Movie%20Recommendation.ipynb)


